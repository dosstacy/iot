<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="/css/stats.css"/>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="icon" href="/images/logo.png" type="image/png">
    <title>SmartPlantie</title>

    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script src="/js/stats.js" type="text/javascript"></script>
    <script src="/js/mqtt.js"></script>
</head>
<body>

<div class="stats-page" style="background-image:url('/images/background.png')">
    <div class="stats-page-container">
        <div class="upper-logo-container">
            <img class="logo" src="/images/logo.png">
            <span class="logo-name">SmartPlantie</span>
        </div>
        <div class="bottom-stats-container">
            <div class="plant-type">
                <div class="plant-info"><span class="user-type">Your plant: </span>
                    <span class="user-type-name"> Dry-loving plant (dry-loving)</span>
                    <button class="open-modal-btn">Change</button>
                </div>
                <span class="plant-description">TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT </span>
            </div>

            <div class="plant-data">
                <div class="temperature-data">
                    <span class="temp-head">Temperature</span>
                    <span class="temp-stats">0 Â°C</span>
                </div>

                <div class="humidity-data">
                    <span class="humidity-head">Humidity</span>
                    <div class="air-data">
                        <span class="air-head">Air: </span>
                        <span class="air-stats">0 %</span>
                    </div>
                    <div class="soil-data">
                        <span class="soil-head">Soil: </span>
                        <span class="soil-stats">0 %</span>
                        <button class="give-water">Water the plant!</button>
                    </div>
                </div>

                <div class="light-data">
                    <span class="light-head">Light</span>
                    <span class="light-stats">0 %</span>

                    <div class="light-slide-container">
                        <input type="range" min="0" max="100" value="0" class="slider" id="myRange">
                    </div>
                </div>

                <div class="modal-overlay active" id="modal">
                    <div class="modal">
                        <button class="close-modal-btn" id="close-modal">
                            <svg width="45px" height="45px" viewBox="0 0 23.5 23.5" fill="none"
                                 xmlns="http://www.w3.org/2000/svg" stroke="#ff0000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_trace#ff0000Carrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path d="M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z"
                                          fill="#ff0000" fill-rule="evenodd" clip-rule="evenodd"></path>
                                </g>
                            </svg>
                        </button>
                        <div class="change-plant-container">
                            <div class="change-plant-data-container">
                                <span class="change-plant-data">Kokos</span>
                                <span class="change-plant-data">Dry-loving</span>
                                <button class="change-plant-btn">Select</button>
                            </div>
                            <div class="change-plant-data-container">
                                <span class="change-plant-data">Kokos</span>
                                <span class="change-plant-data">Water-loving</span>
                                <button class="change-plant-btn">Select</button>
                            </div>
                            <div class="change-plant-data-container">
                                <span class="change-plant-data">Kokos</span>
                                <span class="change-plant-data">Medium water-loving</span>
                                <button class="change-plant-btn">Select</button>
                            </div>
                            <div class="change-plant-data-container">
                                <span class="change-plant-data">Kokos</span>
                                <span class="change-plant-data">Dry-loving</span>
                                <button class="change-plant-btn">Select</button>
                            </div>
                            <div class="change-plant-data-container">
                                <span class="change-plant-data">Kokos</span>
                                <span class="change-plant-data">Water-loving</span>
                                <button class="change-plant-btn">Select</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    document.querySelector(".slider").oninput = function () {
        const lightLevel = this.value;
        document.querySelector(".light-stats").textContent = `${lightLevel}%`;
        console.log("Light level adjusted to:", lightLevel);
    };


    const modal = document.getElementById('modal');
    const openModalBtn = document.querySelector('.open-modal-btn');
    const closeModalBtn = document.getElementById('close-modal');

    modal.classList.remove('active');

    openModalBtn.addEventListener('click', () => {
        modal.classList.add('active');
    });

    closeModalBtn.addEventListener('click', () => {
        modal.classList.remove('active');
    });

    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.classList.remove('active');
        }
    });
</script>
</body>
</html>