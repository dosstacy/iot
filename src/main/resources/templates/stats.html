<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="/css/stats.css"/>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="icon" href="/images/logo.png" type="image/png">
    <title>SmartPlantie</title>

    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script type="text/javascript" src="/js/stats.js"></script>
    <script src="/js/mqtt.js"></script>
</head>
<body>

<div class="stats-page" style="background-image:url('/images/background.png')">
    <div class="stats-page-container">
        <div class="upper-logo-container">
            <img class="logo" src="/images/logo.png">
            <span class="logo-name">SmartPlantie</span>
        </div>
        <div class="bottom-stats-container">
            <div class="plant-type">
                <div class="plant-info"><span class="user-type">Your plant type: </span>
                    <span class="user-type-name"> Dry-loving plant
                        <!--тут треба якось взяти те, що вибрали--> </span>
                    <button class="open-modal-btn">Change</button>
                </div>
                <span class="plant-description">TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT TEXT </span>
            </div>

            <div class="plant-data">
                <div class="temperature-data">
                    <span class="temp-head">Temperature</span>
                    <span class="temp-stats">0 °C</span> <!-- брати дані-->
                </div>

                <div class="humidity-data">
                    <span class="humidity-head">Humidity</span>
                    <div class="air-data">
                        <span class="air-head">Air: </span>
                        <span class="air-stats">0 %</span> <!-- брати дані-->
                    </div>
                    <div class="soil-data">
                        <span class="soil-head">Soil: </span>
                        <span class="soil-stats">0 %</span> <!-- брати дані-->
                        <button class="give-water">Water the plant!</button>
                    </div>
                </div>

                <div class="light-data">
                    <span class="light-head">Light</span>
                    <span class="light-stats">0 %</span> <!-- брати дані-->

                    <div class="light-slide-container">
                        <input type="range" min="0" max="100" value="0" class="slider" id="myRange">
                    </div>
                </div>

                <div class="modal-overlay active" id="modal">
                    <div class="modal">
                        <button class="close-modal-btn" id="close-modal">Close</button>
                        <table class="change-plant-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Kokos</td>
                                    <td>Rose</td>
                                    <td>
                                        <button class="change-plant-btn">Select</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Kokos</td>
                                    <td>Rose</td>
                                    <td>
                                        <button class="change-plant-btn">Select</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Kokos</td>
                                    <td>Rose</td>
                                    <td>
                                        <button class="change-plant-btn">Select</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Kokos</td>
                                    <td>Rose</td>
                                    <td>
                                        <button class="change-plant-btn">Select</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    document.querySelector(".slider").oninput = function () {
        const lightLevel = this.value;
        document.querySelector(".light-stats").textContent = `${lightLevel}%`;
        console.log("Light level adjusted to:", lightLevel);
    };


    const modal = document.getElementById('modal');
    const openModalBtn = document.querySelector('.open-modal-btn');
    const closeModalBtn = document.getElementById('close-modal');

    modal.classList.remove('active');

    openModalBtn.addEventListener('click', () => {
        modal.classList.add('active');
    });

    closeModalBtn.addEventListener('click', () => {
        modal.classList.remove('active');
    });

    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.classList.remove('active');
        }
    });
</script>
</body>
</html>